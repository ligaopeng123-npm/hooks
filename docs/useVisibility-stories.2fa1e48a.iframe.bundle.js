"use strict";(self.webpackChunk_gaopeng123_hooks=self.webpackChunk_gaopeng123_hooks||[]).push([[376],{"./stories/useVisibility.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>useVisibility_stories,demo:()=>demo});__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js");var dist=__webpack_require__("./packages/useVisibility/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const TestUseVisibility=props=>{const visibility=(0,dist.useVisibility)({wait:500,onVisibilitychange:v=>{console.log(visibility,v)}});return(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:"#97fa04",width:"100%",height:"100%"},children:[(0,jsx_runtime.jsx)("h3",{children:"useVisibility"}),"visibility: ",`${visibility}`]})};TestUseVisibility.displayName="TestUseVisibility";const components_TestUseVisibility=TestUseVisibility;try{TestUseVisibility.displayName="TestUseVisibility",TestUseVisibility.__docgenInfo={description:"",displayName:"TestUseVisibility",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/components/TestUseVisibility.tsx#TestUseVisibility"]={docgenInfo:TestUseVisibility.__docgenInfo,name:"TestUseVisibility",path:"example/components/TestUseVisibility.tsx#TestUseVisibility"})}catch(__react_docgen_typescript_loader_error){}var blocks_dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.4.2_74b3ggvk3akyhuq4eydyx3fqim/node_modules/@storybook/blocks/dist/index.mjs");const useVisibility_stories={title:"Example/useVisibility",component:dist.useVisibility,parameters:{layout:"centered",docs:{page:()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(blocks_dist.UG,{children:"# `use-visibility`\n\n> TODO: 返回页面的隐藏和唤醒状态\n>\n> [在线demo](https://ligaopeng123-npm.github.io/hooks/?path=/story/example-usevisibility--demo)\n\n## Usage\n\n```tsx\nimport React from 'react';\nimport { useVisibility } from \"@gaopeng123/hooks.useVisibility\";\n\ntype TestUseVisibilityProps = {};\nconst TestUseVisibility: React.FC<TestUseVisibilityProps> = (props) => {\n    const visibility = useVisibility({\n        wait: 500,\n        onVisibilitychange: (v) => {\n            console.log(visibility, v);\n        }\n    });\n    return (\n        <div style={{backgroundColor: '#97fa04', width: '100%', height: '100%'}}>\n            <h3>useVisibility</h3>\n            visibility: {\n            visibility\n        }\n        </div>\n    )\n};\n\nexport default TestUseVisibility;\n```\n"})})}},tags:["autodocs"],argTypes:{}},demo={args:{},render:()=>(0,jsx_runtime.jsx)(components_TestUseVisibility,{})};demo.parameters={...demo.parameters,docs:{...demo.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => {\n    return <TestUseVisibility />;\n  }\n}",...demo.parameters?.docs?.source}}};const __namedExportsOrder=["demo"]},"./packages/useVisibility/dist/hooks.use-visibility.cjs.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var e=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),i=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@0.5.2/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js");exports.useVisibility=function(t){var n=t||{},r=n.wait,u=n.onVisibilitychange,s=e.useState(!0),c=s[0],o=s[1];return e.useEffect((function(){var e=i.debounce((function(){var e=!1;"visible"===document.visibilityState&&(e=!0),o(e),u&&u(e)}),r||200);return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),c}},"./packages/useVisibility/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./packages/useVisibility/dist/hooks.use-visibility.cjs.production.min.js")}}]);