"use strict";(self.webpackChunk_gaopeng123_hooks=self.webpackChunk_gaopeng123_hooks||[]).push([[726],{"./stories/useScale.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>useScale_stories,demo:()=>demo});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),hooks_use_resize_esm=__webpack_require__("./packages/useResize/dist/hooks.use-resize.esm.js"),utils_types_esm=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@1.1.14/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),useScale=function useScale(props){var _useState=(0,react.useState)({x:1,y:1}),scale=_useState[0],setScale=_useState[1],_Object$assign=Object.assign({width:1920,height:1080},props),scaleDom=_Object$assign.scaleDom,width=_Object$assign.width,height=_Object$assign.height,_useResize=(0,hooks_use_resize_esm.a)(),availWidth=_useResize.availWidth,availHeight=_useResize.availHeight;return(0,react.useEffect)((function(){setScale({x:availWidth/width,y:availHeight/height})}),[scaleDom,availWidth,availHeight,width,height]),(0,react.useEffect)((function(){var _scaleDom;scaleDom&&(_scaleDom=(null==scaleDom?void 0:scaleDom.current)||scaleDom),_scaleDom=(0,utils_types_esm.kK)(_scaleDom)?_scaleDom:document.querySelector("div");var _document$documentEle=document.documentElement,clientWidth=_document$documentEle.clientWidth,clientHeight=_document$documentEle.clientHeight,scaleValue=clientWidth/width;clientWidth/clientHeight>width/height&&(scaleValue=clientHeight/height);var scaleDomStyle=_scaleDom.style;scaleDomStyle.transformOrigin="left top",scaleDomStyle.transform="scale("+scaleValue+") translate(-50%, -50%)",scaleDomStyle.width=width+"px",scaleDomStyle.height=height+"px",scaleDomStyle.position="absolute",scaleDomStyle.top="50%",scaleDomStyle.left="50%"}),[scale]),scale},jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const TestUseScale=props=>{const scale=useScale({width:1920,height:1080});return(0,react.useEffect)((()=>()=>{}),[scale]),(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:"#97fa04",width:"100%",height:"100%"},children:[(0,jsx_runtime.jsx)("h3",{children:"useScale"}),"scale: ",JSON.stringify(scale,null,2)]})};TestUseScale.displayName="TestUseScale";const components_TestUseScale=TestUseScale;try{TestUseScale.displayName="TestUseScale",TestUseScale.__docgenInfo={description:"",displayName:"TestUseScale",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/components/TestUseScale.tsx#TestUseScale"]={docgenInfo:TestUseScale.__docgenInfo,name:"TestUseScale",path:"example/components/TestUseScale.tsx#TestUseScale"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.4.2_74b3ggvk3akyhuq4eydyx3fqim/node_modules/@storybook/blocks/dist/index.mjs");const useScale_stories={title:"Example/useScale",component:useScale,parameters:{layout:"centered",docs:{page:()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(dist.UG,{children:"# useScale\n\n`(props?: ScaleProps):{x: number,y:number}`\n\n>监听窗口变化，动态缩放当前dom，并保持居中\n>\n>[在线demo](https://ligaopeng123-npm.github.io/hooks/?path=/story/example-usescale--demo)\n\n## 参数\n\n```typescript\ntype ScaleProps = {\n    scaleDom?: any; // 缩放的dom 如果不传 默认为body下得第一个div元素\n    width?: number; // 理想宽\n    height?: number; // 要求的理想宽高 小于或者大于该数据后进行缩放\n};\nconst scale = useScale({width: 1920, height: 1080});\n```\n\n## Usage\n\n```tsx\nimport React, {useEffect} from 'react';\nimport {useScale} from \"@gaopeng123/hooks.use-scale\";\n\ntype TestUseScaleProps = {};\nconst TestUseScale: React.FC<TestUseScaleProps> = (props) => {\n    const scale = useScale({width: 1920, height: 1080});\n    useEffect(() => {\n        return () => {\n\n        }\n    }, [scale]);\n    return (\n        <div style={{backgroundColor: '#97fa04', width: '100%', height: '100%'}}>\n            <h3>useScale</h3>\n            scale: {\n            JSON.stringify(scale, null, 2)\n        }\n        </div>\n    )\n};\n\nexport default TestUseScale;\n```\n\n"})})}},tags:["autodocs"],argTypes:{}},demo={args:{},render:()=>(0,jsx_runtime.jsx)(components_TestUseScale,{})};demo.parameters={...demo.parameters,docs:{...demo.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => {\n    return <TestUseScale />;\n  }\n}",...demo.parameters?.docs?.source}}};const __namedExportsOrder=["demo"]},"./packages/useResize/dist/hooks.use-resize.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useResize});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@1.1.14/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js"),useResize=function useResize(props){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((0,_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__.kI)()),size=_useState[0],setSize=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var onResize=(0,_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__.Ds)((function(){setSize((0,_gaopeng123_utils_function__WEBPACK_IMPORTED_MODULE_1__.kI)())}),(null==props?void 0:props.wait)||200,{leading:!1});return window.addEventListener("resize",onResize),function(){window.removeEventListener("resize",onResize)}}),[]),size}}}]);