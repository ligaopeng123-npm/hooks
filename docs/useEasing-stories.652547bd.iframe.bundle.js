"use strict";(self.webpackChunk_gaopeng123_hooks=self.webpackChunk_gaopeng123_hooks||[]).push([[957],{"./stories/useEasing.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>useEasing_stories,demo:()=>demo});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),dist=__webpack_require__("./packages/useEasing/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const TestUseEasing=props=>{const[useCurrentData,startEasing,stopEasing]=(0,dist.useEasing)({duration:6e4,immediate:!1,easingType:"cubicOut",intervals:1e3});return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{children:"useEasing 缓动函数"}),useCurrentData]})};TestUseEasing.displayName="TestUseEasing";const components_TestUseEasing=TestUseEasing;try{TestUseEasing.displayName="TestUseEasing",TestUseEasing.__docgenInfo={description:"",displayName:"TestUseEasing",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/components/TestUseEasing.tsx#TestUseEasing"]={docgenInfo:TestUseEasing.__docgenInfo,name:"TestUseEasing",path:"example/components/TestUseEasing.tsx#TestUseEasing"})}catch(__react_docgen_typescript_loader_error){}var blocks_dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.4.2_74b3ggvk3akyhuq4eydyx3fqim/node_modules/@storybook/blocks/dist/index.mjs");const useEasing_stories={title:"Example/useEasing",component:dist.useEasing,parameters:{layout:"centered",docs:{page:()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(blocks_dist.UG,{children:"# useEasing\n\n`缓动函数`[参考](https://echarts.apache.org/examples/zh/editor.html?c=line-easing)\n\n## 参数\n\n```typescript\nuseEasing:(props: UseEasingProps) : number;\n\ntype EasingType = 'linear' | 'quadraticIn' | 'quadraticOut' | 'quadraticInOut'\n    | 'cubicIn' | 'cubicOut' | 'cubicInOut' | 'quarticIn' | 'quarticOut' | 'quarticInOut'\n    | 'quinticIn' | 'quinticOut' | 'quinticInOut' | 'sinusoidalIn' | 'sinusoidalOut'\n    | 'sinusoidalInOut' | 'exponentialIn' | 'exponentialOut' | 'exponentialInOut'\n    | 'circularIn' | 'circularOut' | 'circularInOut' | 'elasticIn' | 'elasticOut'\n    | 'elasticInOut' | 'backIn' | 'backOut' | 'backInOut' | 'bounceIn' | 'bounceOut'\n    | 'bounceInOut';\n\ntype UseEasingProps = {\n    immediate?: boolean; // 是否立即执行 还是由startPoller开启 默认立即执行\n    duration?: number; // 持续时间 毫秒 默认为1000ms\n    intervals?: number; // 执行间隔  默认为100ms\n    easingType: EasingType; // 执行动画类型\n}\n\nconst [easing, start, stop] = useEasing({duration: 60000, intervals: 1000, easingType: 'cubicOut'}); // 0 - 1之间的数\n```\n\n## Usage\n\n```tsx\nimport React from 'react';\nimport {useEasing} from \"@gaopeng123/hooks.use-easing\";\n\ntype TestUseEasingProps = {};\nconst TestUseEasing: React.FC<TestUseEasingProps> = (props) => {\n\tconst [useCurrentData, startEasing, stopEasing] = useEasing({\n\t\tduration: 60000,\n\t\timmediate: false,\n\t\teasingType: \"cubicOut\",\n\t\tintervals: 1000\n\t});\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<h3>useEasing 缓动函数</h3>\n\t\t\t{\n\t\t\t\tuseCurrentData\n\t\t\t}\n\t\t</React.Fragment>\n\t)\n};\n\nexport default TestUseEasing;\n```\n\n"})})}},tags:["autodocs"],argTypes:{}},demo={args:{},render:()=>(0,jsx_runtime.jsx)(components_TestUseEasing,{})};demo.parameters={...demo.parameters,docs:{...demo.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => {\n    return <TestUseEasing />;\n  }\n}",...demo.parameters?.docs?.source}}};const __namedExportsOrder=["demo"]},"./packages/useEasing/dist/hooks.use-easing.cjs.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var t=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),n=__webpack_require__("./packages/usePoller/dist/index.js"),u=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@0.4.14/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),r={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var n,u=.1;return 0===t?0:1===t?1:(!u||u<1?(u=1,n=.1):n=.4*Math.asin(1/u)/(2*Math.PI),-u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4))},elasticOut:function(t){var n,u=.1;return 0===t?0:1===t?1:(!u||u<1?(u=1,n=.1):n=.4*Math.asin(1/u)/(2*Math.PI),u*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var n,u=.1;return 0===t?0:1===t?1:(!u||u<1?(u=1,n=.1):n=.4*Math.asin(1/u)/(2*Math.PI),(t*=2)<1?u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4)*-.5:u*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},backInOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)},bounceIn:function(t){return 1-r.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*r.bounceIn(2*t):.5*r.bounceOut(2*t-1)+.5}};exports.useEasing=function(e){var i=Object.assign({immediate:!0,duration:1e3,intervals:100,easingType:"cubicOut"},e),a=i.intervals,c=i.duration,o=i.easingType,s=i.immediate,f=t.useState({current:0,timers:0}),h=f[0],M=f[1],I=n.usePoller({delay:a,immediate:s}),O=I[1],l=I[2];return t.useEffect((function(){(!1!==s||h.timers)&&M(Object.assign({},h,{timers:h.timers+1}))}),[I[0]]),t.useEffect((function(){if(h.current>=1)l();else if(h.timers&&u.isFunction(r[o])){var t=r[o](h.timers*(a/c));M(Object.assign({},h,{current:t>1?1:t}))}}),[h.timers]),[h.current,function(){O(),M(Object.assign({current:0},h,{timers:1}))},function(){l()}]}},"./packages/useEasing/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./packages/useEasing/dist/hooks.use-easing.cjs.production.min.js")}}]);