"use strict";(self.webpackChunk_gaopeng123_hooks=self.webpackChunk_gaopeng123_hooks||[]).push([[376],{"./stories/useVisibility.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>useVisibility_stories,demo:()=>demo});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),utils_function_esm=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.function@1.1.16-alpha.3/node_modules/@gaopeng123/utils.function/dist/utils.function.esm.js"),useVisibility=function useVisibility(props){var _ref=props||{},wait=_ref.wait,onVisibilitychange=_ref.onVisibilitychange,_useState=(0,react.useState)(!0),visibility=_useState[0],setVisibility=_useState[1];return(0,react.useEffect)((function(){var _onVisibilitychange=(0,utils_function_esm.Ds)((function(){var visible=!1;"visible"===document.visibilityState&&(visible=!0),setVisibility(visible),onVisibilitychange&&onVisibilitychange(visible)}),wait||200);return document.addEventListener("visibilitychange",_onVisibilitychange),function(){document.removeEventListener("visibilitychange",_onVisibilitychange)}}),[]),visibility},jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const TestUseVisibility=props=>{const visibility=useVisibility({wait:500,onVisibilitychange:v=>{console.log(visibility,v)}});return(0,jsx_runtime.jsxs)("div",{style:{backgroundColor:"#97fa04",width:"100%",height:"100%"},children:[(0,jsx_runtime.jsx)("h3",{children:"useVisibility"}),"visibility: ",`${visibility}`]})};TestUseVisibility.displayName="TestUseVisibility";const components_TestUseVisibility=TestUseVisibility;try{TestUseVisibility.displayName="TestUseVisibility",TestUseVisibility.__docgenInfo={description:"",displayName:"TestUseVisibility",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/components/TestUseVisibility.tsx#TestUseVisibility"]={docgenInfo:TestUseVisibility.__docgenInfo,name:"TestUseVisibility",path:"example/components/TestUseVisibility.tsx#TestUseVisibility"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.4.2_74b3ggvk3akyhuq4eydyx3fqim/node_modules/@storybook/blocks/dist/index.mjs");const useVisibility_stories={title:"Example/useVisibility",component:useVisibility,parameters:{layout:"centered",docs:{page:()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(dist.UG,{children:"# `use-visibility`\n\n> TODO: 返回页面的隐藏和唤醒状态\n>\n> [在线demo](https://ligaopeng123-npm.github.io/hooks/?path=/story/example-usevisibility--demo)\n\n## Usage\n\n```tsx\nimport React from 'react';\nimport { useVisibility } from \"@gaopeng123/hooks.useVisibility\";\n\ntype TestUseVisibilityProps = {};\nconst TestUseVisibility: React.FC<TestUseVisibilityProps> = (props) => {\n    const visibility = useVisibility({\n        wait: 500,\n        onVisibilitychange: (v) => {\n            console.log(visibility, v);\n        }\n    });\n    return (\n        <div style={{backgroundColor: '#97fa04', width: '100%', height: '100%'}}>\n            <h3>useVisibility</h3>\n            visibility: {\n            visibility\n        }\n        </div>\n    )\n};\n\nexport default TestUseVisibility;\n```\n"})})}},tags:["autodocs"],argTypes:{}},demo={args:{},render:()=>(0,jsx_runtime.jsx)(components_TestUseVisibility,{})};demo.parameters={...demo.parameters,docs:{...demo.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => {\n    return <TestUseVisibility />;\n  }\n}",...demo.parameters?.docs?.source}}};const __namedExportsOrder=["demo"]}}]);