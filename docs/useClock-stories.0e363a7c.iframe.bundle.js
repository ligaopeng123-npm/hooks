"use strict";(self.webpackChunk_gaopeng123_hooks=self.webpackChunk_gaopeng123_hooks||[]).push([[502],{"./node_modules/.pnpm/@gaopeng123+utils.date@0.4.17/node_modules/@gaopeng123/utils.date/dist/utils.date.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{currentDayEarliest:()=>currentDayEarliest,currentDayLatest:()=>currentDayLatest,currentQuarterDays:()=>currentQuarterDays,currentQuarterFirstMonth:()=>currentQuarterFirstMonth,currentQuarterLastMonth:()=>currentQuarterLastMonth,formatTimestamp:()=>formatTimestamp,getDay:()=>getDay,getHours:()=>getHours,getMinutes:()=>getMinutes,getMonth:()=>getMonth,getSeconds:()=>getSeconds,getWeek:()=>getWeek,getWeekCN:()=>getWeekCN,getWeekCNDay:()=>getWeekCNDay,getYear:()=>getYear,timeRange:()=>timeRange,timeRangeCurrent:()=>timeRangeCurrent,timeRangePrevious:()=>timeRangePrevious,timestampToCN:()=>timestampToCN});var _gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.types@0.4.14/node_modules/@gaopeng123/utils.types/dist/utils.types.esm.js"),getYear=function getYear(date){return date.getFullYear()+""},getMonth=function getMonth(date){var month=date.getMonth()+1;return setTimeFillZero(month)},getDay=function getDay(date){var day=date.getDate();return setTimeFillZero(day)},getHours=function getHours(date){var hours=date.getHours();return setTimeFillZero(hours)},getMinutes=function getMinutes(date){var minute=date.getMinutes();return setTimeFillZero(minute)},getSeconds=function getSeconds(date){var second=date.getSeconds();return setTimeFillZero(second)},getWeek=function getWeek(date){return date.getDay()||7},getWeekCN=function getWeekCN(date){return"星期"+["","一","二","三","四","五","六","日"][getWeek(date)]},getWeekCNDay=function getWeekCNDay(date){return""+["","一","二","三","四","五","六","日"][getWeek(date)]},setTimeFillZero=function setTimeFillZero(num){return(num+"").length<2?"0"+num:num+""},formatTimestamp=function formatTimestamp(timestamp,type){var _timestamp;(void 0===type&&(type="yyyy-MM-dd HH:mm:ss"),(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isString)(timestamp)&&isNaN(Number(timestamp)))&&(timestamp=(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isSafari)()&&(0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isString)(timestamp)?new Date(null==(_timestamp=timestamp)?void 0:_timestamp.replace(/-/g,"/")):new Date(timestamp));var date=new Date((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isDate)(timestamp)?timestamp:Number(timestamp));return type.replace(/yyyy/i,getYear(date)).replace(/MM/,getMonth(date)).replace(/dd/,getDay(date)).replace(/HH/,getHours(date)).replace(/hh/,function get12Hours(date){var hours=date.getHours();return setTimeFillZero(hours>12?hours-12:hours)}(date)).replace(/mm/,getMinutes(date)).replace(/ss/,getSeconds(date)).replace(/WWW/,getWeekCN(date)).replace(/WW/,getWeekCNDay(date)).replace(/ww/,getWeek(date)+"")},monthDays=function monthDays(month){return new Date(getYear(new Date),month,0).getDate()},currentQuarterFirstMonth=function currentQuarterFirstMonth(){var month=Number(getMonth(new Date));return 3*Math.ceil(month/3)-3+1},currentQuarterLastMonth=function currentQuarterLastMonth(){var month=Number(getMonth(new Date));return 3*Math.ceil(month/3)},currentQuarterDays=function currentQuarterDays(){var firstMonth=currentQuarterFirstMonth();return[firstMonth,firstMonth+1,firstMonth+2].reduce((function(total,current){return total+monthDays(current)}),0)},DATAMAP={day:1,threeDays:3,week:7,month:function currentMonthDays(){return monthDays(getMonth(new Date))}(),quarter:currentQuarterDays(),year:365},currentDayEarliest=function currentDayEarliest(){return Number(new Date((new Date).setHours(0,0,0,0)))},currentDayLatest=function currentDayLatest(){return Number(new Date((new Date).setHours(23,59,59,999)))},monthOrWeekTimeRange=function monthOrWeekTimeRange(days,nowDay){return{startTime:currentDayEarliest()-864e5*(nowDay-1),endTime:currentDayLatest()+864e5*(days-nowDay)}},timeRange=function timeRange(days){return{startTime:1===days?currentDayEarliest():currentDayEarliest()-864e5*(days-1),endTime:currentDayLatest()}},timeRangePrevious=function timeRangePrevious(type){if(DATAMAP[type])return timeRange(DATAMAP[type]);throw new Error(type+" is not of type CurrentTimeRangeType('day' | 'week' | 'month' | 'year' | 'threeDays')")},timeRangeCurrent=function timeRangeCurrent(type){if(DATAMAP[type])switch(type){case"threeDays":return timeRangePrevious("threeDays");case"week":return monthOrWeekTimeRange(DATAMAP[type],getWeek(new Date));case"month":return monthOrWeekTimeRange(DATAMAP[type],(new Date).getDate());case"quarter":var date=new Date,startTime=Number(new Date(Number(getYear(date)),currentQuarterFirstMonth()-1,1).setHours(0,0,0,0)),lastMonth=currentQuarterLastMonth();return{startTime,endTime:Number(new Date(Number(getYear(date)),lastMonth-1,monthDays(lastMonth)).setHours(23,59,59,999))};case"year":var firstDay=(new Date).setFullYear((new Date).getFullYear(),0,1),lastDay=(new Date).setFullYear((new Date).getFullYear(),11,31);return{startTime:Number(new Date(firstDay).setHours(0,0,0,0)),endTime:Number(new Date(lastDay).setHours(23,59,59,999))};default:return timeRange(1)}throw new Error(type+" is not of type CurrentTimeRangeType('day' | 'week' | 'month' | 'year' | 'threeDays')")},TIME_THRESHOLD=[{k:"dd",v:86400},{k:"HH",v:3600},{k:"mm",v:60},{k:"ss",v:1}],timestampToCN=function timestampToCN(timestamp,type){void 0===type&&(type="dd天HH小时mm分钟ss秒");var values=function getTimer(timestamp){for(var values={dd:"",HH:"",mm:"",ss:""},vFlag=!1,i=0;i<TIME_THRESHOLD.length;i++){var _TIME_THRESHOLD$i=TIME_THRESHOLD[i],k=_TIME_THRESHOLD$i.k,v=_TIME_THRESHOLD$i.v;timestamp>=v?(i===TIME_THRESHOLD.length-1?values[k]=timestamp:(values[k]=Math.floor(timestamp/v),timestamp%=v),vFlag=!0):vFlag&&(values[k]="0")}return values}(((0,_gaopeng123_utils_types__WEBPACK_IMPORTED_MODULE_0__.isDate)(timestamp)?timestamp:Number(timestamp))/1e3);TIME_THRESHOLD.forEach((function(_ref,index){var k=_ref.k;if(!values[k]){var _TIME_THRESHOLD,key=null==(_TIME_THRESHOLD=TIME_THRESHOLD[index+1])?void 0:_TIME_THRESHOLD.k;type=key?type.replace(new RegExp(".*(?="+key+")"),""):type}}));var dd=values.dd,HH=values.HH,mm=values.mm,ss=values.ss;return type.replace(/dd/,dd?setTimeFillZero(dd):"").replace(/d/,dd).replace(/HH/,HH?setTimeFillZero(HH):"").replace(/H/,HH).replace(/mm/,mm?setTimeFillZero(mm):"").replace(/m/,mm).replace(/ss/,ss?setTimeFillZero(ss):"").replace(/s/,ss)}},"./stories/useClock.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{__namedExportsOrder:()=>__namedExportsOrder,default:()=>useClock_stories,demo:()=>demo});var react=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),dist=__webpack_require__("./packages/useClock/dist/index.js"),jsx_runtime=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/jsx-runtime.js");const TestUseClock=props=>{const clock=(0,dist.useClock)();return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)("h3",{children:"useClock"}),`${clock.ymd} ${clock.hms} ${clock.week}`]})};TestUseClock.displayName="TestUseClock";const components_TestUseClock=TestUseClock;try{TestUseClock.displayName="TestUseClock",TestUseClock.__docgenInfo={description:"",displayName:"TestUseClock",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["example/components/TestUseClock.tsx#TestUseClock"]={docgenInfo:TestUseClock.__docgenInfo,name:"TestUseClock",path:"example/components/TestUseClock.tsx#TestUseClock"})}catch(__react_docgen_typescript_loader_error){}var blocks_dist=__webpack_require__("./node_modules/.pnpm/@storybook+blocks@7.4.2_74b3ggvk3akyhuq4eydyx3fqim/node_modules/@storybook/blocks/dist/index.mjs");const useClock_stories={title:"Example/useClock",component:dist.useClock,parameters:{layout:"centered",docs:{page:()=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(blocks_dist.UG,{children:"# useClock \n\n`时钟器`\n\n## 参数\n\n```typescript\ntype ClockDate = {\n    ymd: string, // 年月日\n    hms: string, // 时分秒\n    week: string; // 周几\n}\n\nconst {ymd, hms, week} = useClock();\n```\n\n## Usage\n\n```tsx\nimport React from 'react';\nimport {useClock, ClockDate } form \"@gaopeng123/hooks.use-clock\"; // @gaopeng123/hooks\n\ntype TestUseClockProps = {};\nconst TestUseClock: React.FC<TestUseClockProps> = (props) => {\n    const clock: ClockDate = useClock();\n    return (\n        <React.Fragment>\n            <h3>useClock</h3>\n            {\n                `${clock.ymd} ${clock.hms} ${clock.week}`\n            }\n        </React.Fragment>\n    )\n};\n\nexport default TestUseClock;\n```\n\n"})})}},tags:["autodocs"],argTypes:{}},demo={args:{},render:()=>(0,jsx_runtime.jsx)(components_TestUseClock,{})};demo.parameters={...demo.parameters,docs:{...demo.parameters?.docs,source:{originalSource:"{\n  args: {},\n  render: () => {\n    return <TestUseClock />;\n  }\n}",...demo.parameters?.docs?.source}}};const __namedExportsOrder=["demo"]},"./packages/useClock/dist/hooks.use-clock.cjs.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var e=__webpack_require__("./node_modules/.pnpm/react@17.0.2/node_modules/react/index.js"),t=__webpack_require__("./node_modules/.pnpm/@gaopeng123+utils.date@0.4.17/node_modules/@gaopeng123/utils.date/dist/utils.date.esm.js"),r=__webpack_require__("./packages/usePoller/dist/index.js"),s=function(e){return{ymd:t.formatTimestamp(e,"yyyy-MM-dd"),hms:t.formatTimestamp(e,"HH:mm:ss"),week:t.getWeekCN(new Date(e))}};exports.useClock=function(){var t=r.usePoller({delay:1e3})[0],u=e.useState(s(t)),o=u[0],a=u[1];return e.useEffect((function(){a(s(t))}),[t]),o}},"./packages/useClock/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./packages/useClock/dist/hooks.use-clock.cjs.production.min.js")}}]);